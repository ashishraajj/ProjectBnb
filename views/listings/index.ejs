
  <% layout("/layouts/boilerplate") %>
<!-- 
  <style>
    #filters {
      display: flex;
      flex-wrap: wrap;
      /* width: 100% !important;
      align-items: center;
      height: 100px !important;
      overflow: scroll; */
    }
    #filters a {
      color: black;
      text-decoration: none;
    }
    .filter {
      text-align: center;
      margin-right: 2rem;
      margin-top: 2rem;
      opacity: 0.8;
    }
 
    .filter:hover {
      opacity: 1 !important;
      cursor: pointer;
      transform: scale(1.05) !important;
      transition: 100ms ease all !important;
    }
 
    .filter p {
      font-size: 0.95rem;
    }

    .tax-info {
      display: none;

    }

    .tax-toggle {
      border: 1px solid black;
      border-radius: 1rem;
      height: 3.58rem;
      padding: 1rem;
      /* margin-left: 3rem; */
     display: flex;
      min-width: 250px;
      width: fit-content;
      margin-top: 0.8rem;
      align-items: center;
    } 

    
    .selected-filter {
    border-bottom: 3px solid #683193; /* Adjust the styling as needed */
     }   
  </style> -->


<style>
#filters {
  display: flex;
  overflow-x: auto; /* Allow horizontal scrolling */
  white-space: nowrap; /* Ensure all items stay on one line */
  scroll-behavior: smooth; /* Enable smooth scrolling */
  padding-bottom: 1rem; /* Adjust spacing for the scroll area */
  -webkit-overflow-scrolling: touch; /* Enable momentum scrolling on iOS */
}

.filter {
  display: inline-block; /* Ensure each filter is treated as a block inside the horizontal scroll */
  min-width: 100px; /* Ensure filter blocks have enough width */
  margin-right: 2rem;
  margin-top: 2rem;
  text-align: center;
  opacity: 0.8;
  transition: transform 100ms ease, opacity 100ms ease;
}

.filter:hover {
  opacity: 1;
  cursor: pointer;
  transform: scale(1.05);
}


.tax-toggle {
  display: flex;
  align-items: center;
  margin-top: 0.8rem;
  min-width: 250px;
  width: fit-content;
  border: 1px solid black;
  border-radius: 1rem;
  height: 3.58rem;
  padding: 1rem;
}

.filter p {
  font-size: 0.95rem;
}

/* .tax-info {
  display: none;
} */

#filters::-webkit-scrollbar {
  height: 8px; /* Scrollbar height */
}

#filters::-webkit-scrollbar-thumb {
  background-color: #888; /* Scrollbar color */
  border-radius: 4px;
}

#filters::-webkit-scrollbar-track {
  background-color: #f1f1f1;
}

.tax-info {
  display: none;
}

</style>

    <div id="filters">
      <div class="filter">
       <div> <i class="fa-solid fa-fire"></i></div>
       <p>Trending</p>
      </div>

      <div class="filter">
        <div> <i class="fa-solid fa-bed"></i></div>
        <p>Rooms</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-city"></i></div>
        <p>Iconic cities</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-mountain"></i></div>
        <p>Mountains</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-brands fa-fort-awesome"></i></div>
        <p>Castles</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-person-swimming"></i></div>
        <p>Amazing Pool</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-umbrella-beach"></i></div>
        <p>Beach</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-cow"></i></div>
        <p>Farms</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-water"></i></div>
        <p>Lake</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-street-view"></i></div>
        <p>Amazing View</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-house-chimney-user"></i></div>
        <p>Tiny Homes</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-tree"></i></div>
        <p>Nature</p>
      </div>

      <div class="filter Iconic-cities">
        <div><i class="fa-solid fa-snowflake"></i></div>
        <p>Arctic</p>
      </div>

      <div class="tax-toggle">
        <div class="form-check-reverse form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
          <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
        </div>
      </div>
    </div> 

 

     


    <!-- <h3>All Listings</h3>  -->
    <!-- <form method="GET" action="/listings/new">
      <button>Create New Listing</button>
    </form> -->

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3 ">
      <%for(let listing of allListings){%>
        <a href="/listings/<%= listing._id %>" class="listing-link">
        <div class="card col listing-card">
            <img src="<%= listing.image.url %>" class="card-img-top" alt="listing_image" style="height:  20rem" />
            
            <div class="card-img-overlay"></div>

            <div class="card-body">
              <p class="card-text">
                <b><%= listing.title %> <br></b>
                &#8377;<%= listing.price.toLocaleString("en-IN") %> / night
                <i class="tax-info">  &nbsp; +18% total after taxes</i>
               </p>
            </div>
          </div>
      </a>
    <%}%>
</div>
    

<script>
    let taxSwitch = document.getElementById("flexSwitchCheckDefault");
    taxSwitch.addEventListener("click", () => {  
      let taxInfoElements = document.querySelectorAll(".tax-info");
      // console.log(taxInfoElements);
      for(info of taxInfoElements){
         if(info.style.display != "inline"){
          info.style.display = "inline";
         }
         else{
          info.style.display = "none";
         }
      }

      // let priceInfoElements = document.querySelectorAll(".price-info");

      // for (let i = 0; i < taxInfoElements.length; i++) {
      //   if (taxSwitch.checked) {
      //     taxInfoElements[i].style.display = "inline";
      //     priceInfoElements[i].style.display = "none";
      //   } else {
      //     taxInfoElements[i].style.display = "none";
      //     priceInfoElements[i].style.display = "inline";
      //   }
      // }
    });

    // const likeButtons = document.querySelectorAll(".like-button");

    // // Iterate through each like button and add a click event listener
    // likeButtons.forEach(likeButton => {
    //   const heartIcon = likeButton.querySelector(".heart-icon");
    //   const likesAmountLabel = likeButton.nextElementSibling; // Assumes likes-amount is a sibling element

    //   // Prevent the default click behavior on the heart icon
    //   heartIcon.addEventListener("click", (event) => {
    //     event.preventDefault();
    //   });

    //   likeButton.addEventListener("click", () => {
    //     heartIcon.classList.toggle("liked");
    //     likesAmountLabel.innerHTML = parseInt(likesAmountLabel.innerHTML) + 1;
    //   });
    // });
    

//   document.addEventListener("DOMContentLoaded", function () {
//     // Get all filter elements
//     const filters = document.querySelectorAll('.filter');

//     // Add click event listener to each filter
//     filters.forEach(filter => {
//       filter.addEventListener('click', function () {
//         // Remove 'selected-filter' class from all filters
//         filters.forEach(f => f.classList.remove('selected-filter'));

//         // Add 'selected-filter' class to the clicked filter
//         this.classList.add('selected-filter');
//       });
//     });
//   });

</script>